<template>
  <a-table :columns="columns" :dataSource="data" :scroll="windowSize" expandRowByClick @change="handleTableChange">
    <!-- <a slot="action" slot-scope="text" href="javascript:;">Delete</a> -->
    <p slot="expandedRowRender" slot-scope="record" style="margin: 0">{{ record.description }}</p>
  </a-table>
</template>
<script>
const columns = [
  { title: '区分', dataIndex: 'key0', key: 'key0',sorter: (a, b) => a.key0 - b.key0 },
  { title: '承認日', dataIndex: 'key1', key: 'key1',sorter: (a, b) => a.key1 - b.key1 },
  { title: '代理店', dataIndex: 'key2', key: 'key2',sorter: (a, b) => a.key2 - b.key2,
    filters: [
      { text: 'エヌ・ケー興産', value: 'エヌ・ケー興産' },
      { text: '谷町君', value: '谷町君' },
    ], 
    onFilter: (value, record) => record.key2.indexOf(value) === 0
    }, 
  { title: '代理店 契約番号', dataIndex: 'key3', key: 'key3',sorter: (a, b) => a.key3 - b.key3 },
  { title: '代理店 手数料', dataIndex: 'key4', key: 'key4',sorter: (a, b) => parseInt(a.key4) - parseInt(b.key4) },
  { title: '承認番号', dataIndex: 'key5', key: 'key5',sorter: (a, b) => a.key5 - b.key5 },
  { title: '契約者名 (英語)', dataIndex: 'key6', key: 'key6',sorter: (a, b) =>  a.key6.localeCompare(b.key6) },
  { title: '契約者名', dataIndex: 'key7', key: 'key7',sorter: (a, b) => a.key7.localeCompare(b.key7) },
  { title: 'メンション名', dataIndex: 'key8', key: 'key8',sorter: (a, b) => a.key8.localeCompare(b.key8) },
  { title: '部屋番号', dataIndex: 'key9', key: 'key9',sorter: (a, b) => a.key9 - b.key9 },
  { title: '連絡書', dataIndex: 'key10', key: 'key10',sorter: (a, b) => a.key10 - b.key10 },
  { title: '家賃', dataIndex: 'key11', key: 'key11',sorter: (a, b) => a.key11 - b.key11 },
  { title: '審査金額', dataIndex: 'key12', key: 'key12',sorter: (a, b) => a.key12 - b.key12 },
  { title: '審査率', dataIndex: 'key13', key: 'key13',sorter: (a, b) => a.key13 - b.key13 },
  { title: '更新料', dataIndex: 'key14', key: 'key14',sorter: (a, b) => a.key14 - b.key14 },
  { title: '担当者', dataIndex: 'key15', key: 'key15',sorter: (a, b) => a.key15 - b.key15 },
  { title: '銀行名', dataIndex: 'key16', key: 'key16',sorter: (a, b) => a.key16 - b.key16,
    filters: [
      { text: 'SBJ', value: 'SBJ' },
      { text: 'UFJ', value: 'UFJ' },
    ], 
    onFilter: (value, record) => record.key16.indexOf(value) === 0
    },
  { title: '支店名', dataIndex: 'key17', key: 'key17',sorter: (a, b) => a.key17 - b.key17 },
  { title: '口座番号', dataIndex: 'key18', key: 'key18',sorter: (a, b) => a.key18 - b.key18 },
  { title: '備考', dataIndex: 'key19', key: 'key19',sorter: (a, b) => a.key19 - b.key19 },
  { title: '書類', dataIndex: 'key20', key: 'key20',sorter: (a, b) => a.key20 - b.key20 },
  { title: '緊急連絡先', dataIndex: 'key21', key: 'key21',sorter: (a, b) => a.key21 - b.key21 },
  { title: 'Action', dataIndex: '', key: 'x', scopedSlots: { customRender: 'action' } },
];

const data = [
  {
    key0:1,
    key1:'2019-01-10',
    key2:'エヌ・ケー興産',
    key3:'000000',
    key4:'15%',
    key5:'0011252897',
    key6:'KANG SEUNGSAN',
    key7:'강승산',
    key8:'ラシーヌ山坂',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'UFJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:2,
    key1:'2019-03-20',
    key2:'谷町君',
    key3:'111111',
    key4:'10%',
    key5:'0011310958',
    key6:'KIM NARA',
    key7:'김나라',
    key8:'ロイヤル巽',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'UFJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:3,
    key1:'2019-03-20',
    key2:'谷町君',
    key3:'111111',
    key4:'10%',
    key5:'0011310958',
    key6:'KIM NARA',
    key7:'김나라',
    key8:'ロイヤル巽',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'UFJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:4,
    key1:'2019-01-10',
    key2:'エヌ・ケー興産',
    key3:'000000',
    key4:'15%',
    key5:'0011252897',
    key6:'KANG SEUNGSAN',
    key7:'강승산',
    key8:'ラシーヌ山坂',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'UFJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:5,
    key1:'2019-01-10',
    key2:'エヌ・ケー興産',
    key3:'000000',
    key4:'15%',
    key5:'0011252897',
    key6:'KANG SEUNGSAN',
    key7:'강승산',
    key8:'ラシーヌ山坂',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'UFJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:6,
    key1:'2019-03-20',
    key2:'谷町君',
    key3:'111111',
    key4:'10%',
    key5:'0011310958',
    key6:'KIM NARA',
    key7:'김나라',
    key8:'ロイヤル巽',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:7,
    key1:'2019-03-20',
    key2:'谷町君',
    key3:'111111',
    key4:'10%',
    key5:'0011310958',
    key6:'KIM NARA',
    key7:'김나라',
    key8:'ロイヤル巽',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:8,
    key1:'2019-01-10',
    key2:'エヌ・ケー興産',
    key3:'000000',
    key4:'15%',
    key5:'0011252897',
    key6:'KANG SEUNGSAN',
    key7:'강승산',
    key8:'ラシーヌ山坂',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:9,
    key1:'2019-03-20',
    key2:'谷町君',
    key3:'111111',
    key4:'10%',
    key5:'0011310958',
    key6:'KIM NARA',
    key7:'김나라',
    key8:'ロイヤル巽',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:10,
    key1:'2019-03-20',
    key2:'谷町君',
    key3:'111111',
    key4:'10%',
    key5:'0011310958',
    key6:'KIM NARA',
    key7:'김나라',
    key8:'ロイヤル巽',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:11,
    key1:'2019-01-10',
    key2:'エヌ・ケー興産',
    key3:'000000',
    key4:'15%',
    key5:'0011252897',
    key6:'KANG SEUNGSAN',
    key7:'강승산',
    key8:'ラシーヌ山坂',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:12,
    key1:'2019-01-10',
    key2:'エヌ・ケー興産',
    key3:'000000',
    key4:'15%',
    key5:'0011252897',
    key6:'KANG SEUNGSAN',
    key7:'강승산',
    key8:'ラシーヌ山坂',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:13,
    key1:'2019-01-10',
    key2:'エヌ・ケー興産',
    key3:'000000',
    key4:'15%',
    key5:'0011252897',
    key6:'KANG SEUNGSAN',
    key7:'강승산',
    key8:'ラシーヌ山坂',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:14,
    key1:'2019-01-10',
    key2:'エヌ・ケー興産',
    key3:'000000',
    key4:'15%',
    key5:'0011252897',
    key6:'KANG SEUNGSAN',
    key7:'강승산',
    key8:'ラシーヌ山坂',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:15,
    key1:'2019-01-10',
    key2:'エヌ・ケー興産',
    key3:'000000',
    key4:'15%',
    key5:'0011252897',
    key6:'KANG SEUNGSAN',
    key7:'강승산',
    key8:'ラシーヌ山坂',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:16,
    key1:'2019-01-10',
    key2:'エヌ・ケー興産',
    key3:'000000',
    key4:'15%',
    key5:'0011252897',
    key6:'KANG SEUNGSAN',
    key7:'강승산',
    key8:'ラシーヌ山坂',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
  {
    key0:17,
    key1:'2019-01-10',
    key2:'エヌ・ケー興産',
    key3:'000000',
    key4:'15%',
    key5:'0011252897',
    key6:'KANG SEUNGSAN',
    key7:'강승산',
    key8:'ラシーヌ山坂',
    key9:'４０５',
    key10:'080-0000-1111',
    key11:'60000',
    key12:'30000',
    key13:'50%',
    key14:'10000',
    key15:'チャン',
    key16:'SBJ',
    key17:'大阪',
    key18:'0149969',
    key19:'연대보증인',
    key20:'ex) 재류카드, 여권사진, 학생증 한국 신분증 등',
    key21:'부, 홍길동 , 010-000-0000 서울 강남 청담 무슨 아파트 1동101호',
    description: 'My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.',
  },
];

export default {
  data() {
    return {
      data,
      columns,
      windowSize:{x:'max-content'}
    };
  },
  mounted(){
    const y = window.innerHeight-300;
    this.windowSize = {
      x:'max-content' 
    }
  },
  methods: {
    handleTableChange(pagination, filters, sorter) {
      console.log(pagination);
      const pager = { ...this.pagination };
      pager.current = pagination.current;
      this.pagination = pager;
      this.fetch({
        results: pagination.pageSize,
        page: pagination.current,
        sortField: sorter.field,
        sortOrder: sorter.order,
        ...filters,
      });
    },
  }
};
</script>
<style lang="scss">
.ant-table-fixed{
  overflow-x: auto;
  tr{
    td{
    }
  }
}
</style>